<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'wasm-unsafe-eval'; style-src 'self' 'unsafe-inline' https:; font-src 'self' https:;">
    <title>üéØ –ö–∞—Ä—Ç–∞ —Ä–∏—Å–∫–æ–≤ –≥–æ—Å—Ç–µ–ø—Ä–∏–∏–º—Å—Ç–≤–∞ 2025</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="src/css/main.css">
</head>
<body data-theme="light">
    <!-- üåü –ú—è–≥–∫–∏–µ –ø–ª–∞–≤–∞—é—â–∏–µ —á–∞—Å—Ç–∏—Ü—ã -->
    <div class="floating-particles">
        <div class="particle" style="left: 15%; width: 2px; height: 2px; animation-delay: 0s;"></div>
        <div class="particle" style="left: 25%; width: 3px; height: 3px; animation-delay: 3s;"></div>
        <div class="particle" style="left: 35%; width: 2px; height: 2px; animation-delay: 6s;"></div>
        <div class="particle" style="left: 45%; width: 3px; height: 3px; animation-delay: 9s;"></div>
        <div class="particle" style="left: 55%; width: 2px; height: 2px; animation-delay: 12s;"></div>
        <div class="particle" style="left: 65%; width: 3px; height: 3px; animation-delay: 15s;"></div>
        <div class="particle" style="left: 75%; width: 2px; height: 2px; animation-delay: 18s;"></div>
        <div class="particle" style="left: 85%; width: 3px; height: 3px; animation-delay: 21s;"></div>
    </div>

    <div class="app-container">
        <!-- üéõÔ∏è SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1>üéØ –ö–∞—Ä—Ç–∞ —Ä–∏—Å–∫–æ–≤</h1>
                <p>–ò–Ω–¥—É—Å—Ç—Ä–∏—è –≥–æ—Å—Ç–µ–ø—Ä–∏–∏–º—Å—Ç–≤–∞ 2025</p>
            </div>

            <div class="sidebar-section">
                <h3>üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã</h3>
                
                <div class="filter-group">
                    <label class="filter-label">–ü–æ–∏—Å–∫ —Ä–∏—Å–∫–æ–≤</label>
                    <input 
                        type="text" 
                        class="search-input" 
                        id="searchInput"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–∞..."
                        onkeyup="handleSearch()"
                    >
                </div>

                <div class="filter-group">
                    <label class="filter-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select class="filter-select" id="categoryFilter" onchange="filterByCategory()">
                        <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                        <option value="operational">üîß –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ</option>
                        <option value="financial">üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ</option>
                        <option value="regulatory">üìã –†–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–µ</option>
                        <option value="technological">üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ</option>
                        <option value="reputation">üåü –†–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ</option>
                        <option value="environmental">üå± –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label class="filter-label">–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞</label>
                    <select class="filter-select" id="levelFilter" onchange="filterByLevel()">
                        <option value="">–í—Å–µ —É—Ä–æ–≤–Ω–∏</option>
                        <option value="critical">üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</option>
                        <option value="high">üü† –í—ã—Å–æ–∫–∏–π</option>
                        <option value="medium">üü° –°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="low">üü¢ –ù–∏–∑–∫–∏–π</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <button class="btn btn-secondary" onclick="resetFilters()" style="width: 100%; margin-top: 1rem;">
                        <i class="fas fa-undo"></i>
                        –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                    </button>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>üé® –¶–≤–µ—Ç–æ–≤–∞—è –ª–µ–≥–µ–Ω–¥–∞</h3>
                <div class="risk-legend">
                    <div class="legend-item critical">
                        <div class="legend-color"></div>
                        <span class="legend-text">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π</span>
                    </div>
                    <div class="legend-item high">
                        <div class="legend-color"></div>
                        <span class="legend-text">–í—ã—Å–æ–∫–∏–π</span>
                    </div>
                    <div class="legend-item medium">
                        <div class="legend-color"></div>
                        <span class="legend-text">–°—Ä–µ–¥–Ω–∏–π</span>
                    </div>
                    <div class="legend-item low">
                        <div class="legend-color"></div>
                        <span class="legend-text">–ù–∏–∑–∫–∏–π</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">–í—Å–µ–≥–æ —Ä–∏—Å–∫–æ–≤</span>
                        <span class="info-value" id="totalRisks">0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö</span>
                        <span class="info-value" id="criticalCount">0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–í—ã—Å–æ–∫–∏—Ö</span>
                        <span class="info-value" id="highCount">0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–°—Ä–µ–¥–Ω–∏—Ö</span>
                        <span class="info-value" id="mediumCount">0</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">–ù–∏–∑–∫–∏—Ö</span>
                        <span class="info-value" id="lowCount">0</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- üì± –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
        <main class="main-content">
            <!-- üîù HEADER -->
            <header class="header">
                <div class="header-left">
                    <button class="mobile-menu-btn" onclick="toggleSidebar()">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="header-title">–ö–∞—Ä—Ç–∞ —Ä–∏—Å–∫–æ–≤ 2025</h1>
                    <div class="header-stats">
                        <div class="stat-chip">
                            <i class="fas fa-shield-alt"></i>
                            <span id="headerRiskCount">0 —Ä–∏—Å–∫–æ–≤</span>
                        </div>
                        <div class="stat-chip">
                            <i class="fas fa-layer-group"></i>
                            <span id="headerCategoryCount">0 –∫–∞—Ç–µ–≥–æ—Ä–∏–π</span>
                        </div>
                    </div>
                </div>
                
                <div class="header-actions">
                    <div class="view-switcher">
                        <button class="view-btn active" data-view="matrix" onclick="switchView('matrix')" title="–ú–∞—Ç—Ä–∏—Ü–∞">
                            <i class="fas fa-th"></i>
                        </button>
                        <button class="view-btn" data-view="cards" onclick="switchView('cards')" title="–ö–∞—Ä—Ç–æ—á–∫–∏">
                            <i class="fas fa-id-card"></i>
                        </button>
                        <button class="view-btn" data-view="list" onclick="switchView('list')" title="–°–ø–∏—Å–æ–∫">
                            <i class="fas fa-list"></i>
                        </button>
                    </div>
                    <button class="btn btn-primary" onclick="exportToExcel()">
                        <i class="fas fa-download"></i>
                        Excel
                    </button>
                    <button class="btn btn-secondary" onclick="exportToCSV()">
                        <i class="fas fa-file-csv"></i>
                        CSV
                    </button>
                    <button class="btn btn-primary" onclick="openDashboard()" title="Dashboard">
                        <i class="fas fa-chart-line"></i>
                        Dashboard
                    </button>
                    <button class="btn btn-secondary" onclick="openRiskForm()" title="–î–æ–±–∞–≤–∏—Ç—å —Ä–∏—Å–∫">
                        <i class="fas fa-plus"></i>
                        –î–æ–±–∞–≤–∏—Ç—å —Ä–∏—Å–∫
                    </button>
                    <button class="btn-icon" onclick="toggleTheme()" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                        <i class="fas fa-moon" id="themeIcon"></i>
                    </button>
                </div>
            </header>

            <!-- üîç –ü–û–ò–°–ö -->
            <div class="search-section">
                <div class="search-container">
                    <input 
                        type="text" 
                        class="search-input" 
                        placeholder="üîç –ù–∞–π—Ç–∏ —Ä–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, –æ–ø–∏—Å–∞–Ω–∏—é –∏–ª–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º..."
                        id="globalSearch"
                        onkeyup="globalSearch()"
                    >
                    <i class="fas fa-search search-icon"></i>
                </div>
            </div>

            <!-- üìä –ö–û–ù–¢–ï–ù–¢–ù–ê–Ø –û–ë–õ–ê–°–¢–¨ -->
            <div class="content-area">
                <!-- üéØ –ú–ê–¢–†–ò–¶–ê –†–ò–°–ö–û–í -->
                <div class="matrix-container" id="matrixView">
                    <div class="matrix-header">
                        <h2 class="matrix-title">–ú–∞—Ç—Ä–∏—Ü–∞ —Ä–∏—Å–∫–æ–≤ 5√ó5</h2>
                        <p class="matrix-subtitle">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å √ó –í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ</p>
                    </div>

                    <div class="matrix-grid" id="matrixGrid">
                        <!-- –ú–∞—Ç—Ä–∏—Ü–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- üÉè –í–ò–î –ö–ê–†–¢–û–ß–ï–ö -->
                <div class="cards-container" id="cardsView" style="display: none;">
                    <div class="cards-header">
                        <h2 class="cards-title">–ö–∞—Ä—Ç–æ—á–∫–∏ —Ä–∏—Å–∫–æ–≤</h2>
                        <p class="cards-subtitle">–í—Å–µ —Ä–∏—Å–∫–∏ –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∫–∞—Ä—Ç–æ—á–µ–∫</p>
                    </div>
                    <div class="cards-grid" id="cardsGrid">
                        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <!-- üìã –í–ò–î –°–ü–ò–°–ö–ê -->
                <div class="list-container" id="listView" style="display: none;">
                    <div class="list-header">
                        <h2 class="list-title">–°–ø–∏—Å–æ–∫ —Ä–∏—Å–∫–æ–≤</h2>
                        <p class="list-subtitle">–¢–∞–±–ª–∏—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–∏—Å–∫–æ–≤</p>
                    </div>
                    <div class="list-table-container">
                        <table class="risk-table" id="riskTable">
                            <thead>
                                <tr>
                                    <th onclick="window.sortTable(1)">
                                        <i class="fas fa-exclamation-triangle"></i>
                                        –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∏—Å–∫–∞
                                        <i class="fas fa-sort sort-icon"></i>
                                    </th>
                                    <th onclick="window.sortTable(2)">
                                        <i class="fas fa-layer-group"></i>
                                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                                        <i class="fas fa-sort sort-icon"></i>
                                    </th>
                                    <th onclick="window.sortTable(3)">
                                        <i class="fas fa-signal"></i>
                                        –£—Ä–æ–≤–µ–Ω—å
                                        <i class="fas fa-sort sort-icon"></i>
                                    </th>
                                    <th onclick="window.sortTable(4)">
                                        <i class="fas fa-percentage"></i>
                                        –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å
                                        <i class="fas fa-sort sort-icon"></i>
                                    </th>
                                    <th onclick="window.sortTable(5)">
                                        <i class="fas fa-impact"></i>
                                        –í–æ–∑–¥–µ–π—Å—Ç–≤–∏–µ
                                        <i class="fas fa-sort sort-icon"></i>
                                    </th>
                                    <th>
                                        <i class="fas fa-cog"></i>
                                        –î–µ–π—Å—Ç–≤–∏—è
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="riskTableBody">
                                <!-- –°—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- üí´ –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
    <div class="modal" id="riskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">–î–µ—Ç–∞–ª–∏ —Ä–∏—Å–∫–∞</h2>
                <button class="modal-close" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- üìä –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û DASHBOARD -->
    <div class="modal" id="dashboardModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 class="modal-title">üìä Dashboard —Ä–∏—Å–∫–æ–≤</h2>
                <button class="modal-close" onclick="closeDashboard()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="dashboardModalBody">
                <!-- Dashboard –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- üìù –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –§–û–†–ú–´ –†–ò–°–ö–ê -->
    <div class="modal" id="riskFormModal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 class="modal-title">üìù –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∏—Å–∫</h2>
                <button class="modal-close" onclick="closeRiskForm()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="riskFormModalBody">
                <!-- –§–æ—Ä–º–∞ —Ä–∏—Å–∫–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- üé™ –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø -->
    <div class="notification" id="notification">
        <span id="notificationText"></span>
    </div>

    <script type="module" src="src/js/app.js"></script>
</body>
</html>